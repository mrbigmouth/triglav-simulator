(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"23da":function(t,e,a){"use strict";var s=a("988a"),i=a.n(s);i.a},"3c09":function(t,e,a){},4271:function(t,e,a){},"4a34":function(t,e,a){"use strict";var s=a("60e7"),i=a.n(s);i.a},"4a54":function(t,e,a){"use strict";var s=a("3c09"),i=a.n(s);i.a},"5a5f":function(t,e,a){},"5b49":function(t,e,a){},"60e7":function(t,e,a){},7267:function(t,e,a){"use strict";var s=a("4271"),i=a.n(s);i.a},7834:function(t,e,a){"use strict";var s=a("fa3b"),i=a.n(s);i.a},8298:function(t,e,a){"use strict";var s=a("5a5f"),i=a.n(s);i.a},"83d2":function(t,e,a){},"8b24":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh lpR fFf"}},[a("q-page-container",[a("q-page",{staticClass:"row wrap justify-center items-start content-start"},[a("div",{staticClass:"q-gutter-y-md",staticStyle:{"min-width":"100%","max-width":"70rem"}},[a("q-card",[a("q-tabs",{attrs:{dense:"","active-color":"info","indicator-color":"info","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"build",label:"配置"}}),a("q-tab",{attrs:{name:"simulator",label:"模擬"}}),a("q-btn-dropdown",{staticStyle:{width:"20rem"},attrs:{align:"right","auto-close":"",stretch:"",flat:""},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"row items-end no-wrap justify-end"},[a("q-icon",{attrs:{name:"language"}}),t._v("\n                  繁體中文\n                ")],1)]},proxy:!0}])},[a("q-list",[a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{align:"right"}},[t._v("\n                    日本語\n                  ")])],1),a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{align:"right"}},[t._v("\n                    English\n                  ")])],1),a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{align:"right"}},[t._v("\n                    繁體中文\n                  ")])],1),a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{align:"right"}},[t._v("\n                    简体中文\n                  ")])],1)],1)],1)],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"build"}},[a("build-panel")],1),a("q-tab-panel",{attrs:{name:"simulator"}},[a("simulator-panel")],1)],1)],1)],1)])],1)],1)},i=[],n=(a("5319"),a("ded3")),l=a.n(n),r=a("2f62"),o=a("cf59"),c={computed:l()(l()({},d(Object.keys(o["a"].state()))),Object(r["b"])("build",Object.keys(o["a"].getters)))};function d(t){const e={};return t.forEach(t=>{e[t]={get(){return this.$store.state.build[t]},set(e){return this.$store.commit("build/changeBuildValue",{key:t,value:e})}}}),e}var m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"row q-col-gutter-xs",attrs:{autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"}},[a("div",{staticClass:"col-xs-12 offset-sm-2 col-sm-8 offset-md-2 col-md-4 offset-lg-3 col-lg-3"},[a("q-select",{attrs:{label:"腳色職業",options:[{label:"劍系大師",value:"sword"},{label:"斧系大師",value:"axe"},{label:"匕首大師",value:"dagger"}],"emit-value":"","map-options":""},model:{value:t.characterClass,callback:function(e){t.characterClass=e},expression:"characterClass"}})],1),a("div",{staticClass:"col-xs-12 offset-sm-2 col-sm-8 offset-md-0 col-md-4 offset-lg-0 col-lg-3"},[a("q-input",{attrs:{label:"經驗值",type:"number",min:"0",step:"10000"},model:{value:t.exp,callback:function(e){t.exp=t._n(e)},expression:"exp"}})],1),a("div",{staticClass:"col-xs-12 offset-sm-2 col-sm-8 offset-md-2 col-md-4 offset-lg-3 col-lg-3"},[a("boost-records")],1),a("div",{staticClass:"col-xs-12 offset-sm-2 col-sm-8 offset-md-0 col-md-4 offset-lg-0 col-lg-3"},[a("q-input",{attrs:{label:"擊殺數",type:"number",min:"0",step:"100"},model:{value:t.kills,callback:function(e){t.kills=t._n(e)},expression:"kills"}})],1),a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"text-center"},[a("q-checkbox",{attrs:{label:t.$t("displayName")},model:{value:t.displayName,callback:function(e){t.displayName=e},expression:"displayName"}}),a("q-checkbox",{attrs:{label:t.$t("displaySpecial")},model:{value:t.displaySpecial,callback:function(e){t.displaySpecial=e},expression:"displaySpecial"}})],1),a("item-table",["sword"===t.characterClass?a("item-row",{attrs:{"item-data":t.item.sword[t.weapon1],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("sword","weapon1")}}}):t._e(),"sword"===t.characterClass?a("item-row",{attrs:{"item-data":t.item.shield[t.weapon2],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("shield","weapon2")}}}):t._e(),"axe"===t.characterClass?a("item-row",{attrs:{"item-data":t.item.axe[t.weapon1],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("axe","weapon1")}}}):t._e(),"axe"===t.characterClass?a("item-row",{attrs:{"item-data":t.item.mantle[t.weapon2],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("mantle","weapon2")}}}):t._e(),"dagger"===t.characterClass?a("item-row",{attrs:{"item-data":t.item.dagger[t.weapon1],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("dagger","weapon1")}}}):t._e(),"dagger"===t.characterClass?a("item-row",{attrs:{"item-data":t.item.dagger[t.weapon2],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("dagger","weapon2")}}}):t._e(),a("item-row",{attrs:{"item-data":t.item.ring[t.ring1],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("ring","ring1")}}}),a("item-row",{attrs:{"item-data":t.item.ring[t.ring2],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("ring","ring2")}}}),a("item-row",{attrs:{"item-data":t.item.helm[t.helm],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("helm","helm")}}}),a("item-row",{attrs:{"item-data":t.item.armor[t.armor],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("armor","armor")}}}),a("item-row",{attrs:{"item-data":t.item.gloves[t.gloves],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("gloves","gloves")}}}),a("item-row",{attrs:{"item-data":t.item.boots[t.boots],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("boots","boots")}}}),a("item-row",{attrs:{"item-data":t.item.freshy[t.freshy],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("freshy","freshy")}}}),a("item-row",{attrs:{"item-data":t.item.puppet[t.puppet1],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("puppet","puppet1")}}}),a("item-row",{attrs:{"item-data":t.item.puppet[t.puppet2],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("puppet","puppet2")}}}),a("item-row",{attrs:{"item-data":t.item.puppet[t.puppet3],"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(e){return t.onSelectItem("puppet","puppet3")}}})],1)],1),a("select-item-dialog",{attrs:{"is-show":t.selectItemDialogProps.isShow,"item-type":t.selectItemDialogProps.itemType,"item-slot":t.selectItemDialogProps.itemSlot},on:{"update:isShow":function(e){return t.$set(t.selectItemDialogProps,"isShow",e)},"update:is-show":function(e){return t.$set(t.selectItemDialogProps,"isShow",e)}}})],1)},p=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"col-6",staticStyle:{"font-size":"0.8rem"}},[t._v("\n    強化藥水使用紀錄：\n  ")]),a("div",{staticClass:"col-6"},[a("q-btn-toggle",{attrs:{"toggle-color":"primary",size:"sm",options:[{label:"全體力",value:"vitality"},{label:"全力量",value:"strength"},{label:"全敏捷",value:"dexteriry"},{label:"全防禦",value:"defense"},{label:"自定義",value:"custom"}]},on:{click:t.onClickBtns},model:{value:t.boostStrategy,callback:function(e){t.boostStrategy=e},expression:"boostStrategy"}})],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.showCustomDialog,callback:function(e){t.showCustomDialog=e},expression:"showCustomDialog"}},[a("q-card",[a("q-bar",[a("div",[t._v("自定義強化藥水使用紀錄")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",dense:"",flat:""}})],1),a("q-card-section",[a("q-input",{attrs:{label:"萬靈密藥(全屬性)使用次數",type:"number",min:"0",step:"1"},model:{value:t.boostAllRecords,callback:function(e){t.boostAllRecords=t._n(e)},expression:"boostAllRecords"}}),a("q-input",{attrs:{label:"長生靈丹(體力)使用次數",type:"number",min:"0",step:"1"},model:{value:t.boostVitalityRecords,callback:function(e){t.boostVitalityRecords=t._n(e)},expression:"boostVitalityRecords"}}),a("q-input",{attrs:{label:"滋王丸藥(力量)使用次數",type:"number",min:"0",step:"1"},model:{value:t.boostStrengthRecords,callback:function(e){t.boostStrengthRecords=t._n(e)},expression:"boostStrengthRecords"}}),a("q-input",{attrs:{label:"玉液瓊漿(敏捷)使用次數",type:"number",min:"0",step:"1"},model:{value:t.boostDexteriryRecords,callback:function(e){t.boostDexteriryRecords=t._n(e)},expression:"boostDexteriryRecords"}}),a("q-input",{attrs:{label:"九頭蛇釀(防禦)使用次數",type:"number",min:"0",step:"1"},model:{value:t.boostDefenseRecords,callback:function(e){t.boostDefenseRecords=t._n(e)},expression:"boostDefenseRecords"}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"確定",color:"primary"}})],1)],1)],1)],1)},y=[],h={name:"BoostRecords",components:{},mixins:[c],data(){return{boostStrategy:"vitality",showCustomDialog:!1}},watch:{boostStrategy(t){switch(t){case"vitality":this.boostAllRecords=2,this.boostVitalityRecords=13,this.boostStrengthRecords=1,this.boostDexteriryRecords=1,this.boostDefenseRecords=1;break;case"strength":this.boostAllRecords=2,this.boostVitalityRecords=4,this.boostStrengthRecords=10,this.boostDexteriryRecords=1,this.boostDefenseRecords=1;break;case"dexteriry":this.boostAllRecords=2,this.boostVitalityRecords=4,this.boostStrengthRecords=1,this.boostDexteriryRecords=10,this.boostDefenseRecords=1;break;case"defense":this.boostAllRecords=2,this.boostVitalityRecords=4,this.boostStrengthRecords=1,this.boostDexteriryRecords=1,this.boostDefenseRecords=10;break;case"custom":default:break}}},methods:{onClickBtns(){"custom"===this.boostStrategy&&(this.showCustomDialog=!0)}}},v=h,b=a("2877"),f=a("6a67"),g=a("24e8"),x=a("f09f"),_=a("d847"),C=a("2c91"),S=a("9c40"),w=a("a370"),k=a("27f9"),D=a("4b7e"),A=a("7f67"),P=a("eebe"),q=a.n(P),E=Object(b["a"])(v,u,y,!1,null,null,null),F=E.exports;q()(E,"components",{QBtnToggle:f["a"],QDialog:g["a"],QCard:x["a"],QBar:_["a"],QSpace:C["a"],QBtn:S["a"],QCardSection:w["a"],QInput:k["a"],QCardActions:D["a"]}),q()(E,"directives",{ClosePopup:A["a"]});var V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapper",staticClass:"wrapper",style:"height: "+t.wrapperHeight+";"},[a("table",{style:"width: "+t.tableWidth+";"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"5rem"}},[t._v("\n          "+t._s(t.$t("equipment"))+"\n        ")]),a("th",{class:t.sortable?"cursor-pointer":"",staticStyle:{"min-width":"6rem"},on:{click:function(e){return t.onClickColumn("avgDmg")}}},[a("div",[t._v("\n            "+t._s(t.$t("dmg"))+"\n            "),t.getSortStatus("avgDmg")?a("q-icon",{attrs:{name:"desc"===t.getSortStatus("avgDmg")?"expand_more":"expand_less"}}):t._e()],1)]),t._l(t.columns,(function(e){return a("th",{key:e,class:t.sortable?"cursor-pointer":"",on:{click:function(a){return t.onClickColumn(e)}}},[a("div",[t._v("\n            "+t._s(t.$t(e))+"\n            "),t.getSortStatus(e)?a("q-icon",{attrs:{name:"desc"===t.getSortStatus(e)?"expand_more":"expand_less"}}):t._e()],1)])}))],2)]),t._t("default")],2),a("q-resize-observer",{on:{resize:t.onWrapperResize}})],1)},R=[],L={name:"ItemTable",props:{sortable:{type:Boolean,default:!1},sortList:{type:Array,default(){return[]}}},data(){return{intervalId:null,columns:["as","str","dex","def","vit","ws","ar","sad","voh","dr","xpg","spe"],detectingSize:{windowHeight:window.innerHeight,boundingClientRectTop:0,boundingClientRectWidth:0,scrollWidth:0}}},computed:{wrapperHeight(){const t=this.detectingSize;return t.windowHeight-t.boundingClientRectTop-40+"px"},tableWidth(){const t=this.detectingSize;return t.scrollWidth+30>t.boundingClientRectWidth?"auto":"100%"},getSortStatus(){return t=>{const e=this.sortList.find(e=>e.by===t);return!!e&&e.dir}}},mounted(){this.intervalId=setInterval(this.detectboundingClientRect,500),this.detectboundingClientRect(),window.addEventListener("resize",this.detectWindowHeight)},beforeDestroy(){clearInterval(this.intervalId),window.removeEventListener("resize",this.detectWindowHeight)},methods:{detectboundingClientRect(){const t=this.$refs.wrapper;if(t){const e=t.getBoundingClientRect(),a=this.detectingSize;a.boundingClientRectTop=e.top,a.boundingClientRectWidth=e.width}},detectWindowHeight(){this.detectingSize.windowHeight=window.innerHeight},onWrapperResize(){this.detectingSize.scrollWidth=this.$refs.wrapper.scrollWidth},onClickColumn(t){if(this.sortable){const e=this.sortList.find(e=>e.by===t);e?this.$emit("update:sortList",[{by:t,dir:"asc"===e.dir?"desc":"asc"}]):this.$emit("update:sortList",[{by:t,dir:"desc"}])}}}},I=L,Q=(a("4a34"),a("0016")),M=a("3980"),H=Object(b["a"])(I,V,R,!1,null,null,null),$=H.exports;q()(H,"components",{QIcon:Q["a"],QResizeObserver:M["a"]});var T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tbody",{on:{click:function(e){return t.$emit("click")}}},[a("tr",{attrs:{title:t.$t("item."+t.itemData.i18n)}},[a("td",[a("img",{class:t.itemData.type,attrs:{src:t.itemData.img}})]),a("td",[a("colorful-value",{attrs:{value:t.getValue("minAd")}}),t._v("\n      ~\n      "),a("colorful-value",{attrs:{value:t.getValue("maxAd")}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("as"),"reverse-color":""}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("str")}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("dex")}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("def")}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("vit")}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("ws")}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("ar")}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("sad"),"reverse-color":""}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("voh")}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("dr"),suffix:"%"}})],1),a("td",[a("colorful-value",{attrs:{value:t.getValue("xpg"),suffix:"%"}})],1),a("td",[t.getValue("special")?a("q-icon",{attrs:{name:"info",size:"sm",color:"positive",title:t.getSpecialDescription(t.getValue("special"))}}):t._e()],1)]),t.displayName?a("tr",[a("td",{staticClass:"name",class:t.itemData.type,attrs:{colspan:"14"}},[t._v("\n       "+t._s(t.$t("item."+t.itemData.i18n))+"\n    ")])]):t._e(),t.displaySpecial&&t.itemData.special?a("tr",[a("td",{staticClass:"special",attrs:{colspan:"14"}},[t._v("\n      "+t._s(t.getSpecialDescription(t.getValue("special")))+"\n    ")])]):t._e()])},O=[],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{class:t.colorClass},[t._v("\n  "+t._s(t.value)+t._s(t.suffix)+"\n")])},W=[],N={name:"ColorfulValue",props:{reverseColor:{type:Boolean,default:!1},value:{type:Number,default:0},suffix:{type:String,default:""}},computed:{colorClass(){const t=this.value;return 0===t?"":this.reverseColor?t>0?"bad":"good":t>0?"good":"bad"}}},j=N,U=(a("7267"),Object(b["a"])(j,B,W,!1,null,null,null)),z=U.exports,G={name:"ItemRow",components:{ColorfulValue:z},mixins:[c],props:{itemData:{type:Object,required:!0},displayName:{type:Boolean,default:!1},displaySpecial:{type:Boolean,default:!1}},computed:{getValue(){return t=>this.getItemValue(this.itemData,t)}}},K=G,J=(a("23da"),Object(b["a"])(K,T,O,!1,null,null,null)),X=J.exports;q()(J,"components",{QIcon:Q["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-dialog",{attrs:{persistent:"","full-width":"","full-height":""},model:{value:t.proxyIsShow,callback:function(e){t.proxyIsShow=e},expression:"proxyIsShow"}},[a("q-card",[a("q-bar",[a("div",[t._v("選擇裝備")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",dense:"",flat:""}})],1),a("q-card-section",[a("div",[t._v("\n          "+t._s(t.$t("sortBy"))+"\n          "),t._l(t.sortList,(function(e,s){return a("span",{key:e.by,staticClass:"sortInfo"},[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear",color:"negative"},on:{click:function(e){return t.onClearSort(s)}}}),t._v("\n            "+t._s(t.$t(e.by))+"\n            "),a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"desc"===e.dir?"expand_more":"expand_less"},on:{click:function(a){return t.onToggleSortDir(e)}}})],1)})),a("q-btn",{attrs:{icon:"add_box",color:"positive",size:"sm",dense:""},on:{click:function(e){t.showAddSortDialog=!0}}})],2),a("div",[t._v("\n          "+t._s(t.$t("filterByItemType"))+"\n          "),a("q-checkbox",{attrs:{val:"common",label:t.$t("common"),color:"grey-11"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("q-checkbox",{attrs:{val:"rare",label:t.$t("rare"),color:"cyan-3"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("q-checkbox",{attrs:{val:"artifact",label:t.$t("artifact"),color:"accent"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),a("div",{staticStyle:{"max-width":"20rem"}},[a("q-input",{attrs:{type:"text",label:t.$t("searchByName"),clearable:"",standout:"",dense:""},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),a("div",{staticClass:"text-center"},[a("q-checkbox",{attrs:{label:t.$t("displayName")},model:{value:t.displayName,callback:function(e){t.displayName=e},expression:"displayName"}}),a("q-checkbox",{attrs:{label:t.$t("displaySpecial")},model:{value:t.displaySpecial,callback:function(e){t.displaySpecial=e},expression:"displaySpecial"}})],1),a("item-table",{attrs:{"sort-list":t.sortList,sortable:""},on:{"update:sortList":function(e){t.sortList=e},"update:sort-list":function(e){t.sortList=e}}},t._l(t.itemList,(function(e){return a("item-row",{key:e.id,attrs:{"item-data":e,"display-name":t.displayName,"display-special":t.displaySpecial},on:{click:function(a){return t.onSelectItem(e.id)}}})})),1)],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.showAddSortDialog,callback:function(e){t.showAddSortDialog=e},expression:"showAddSortDialog"}},[a("q-list",{attrs:{dense:"",bordered:"",separator:""}},t._l(t.displaySortOptionList,(function(e){return a("q-item",{key:e,staticStyle:{background:"black"},attrs:{clickable:""},on:{click:function(a){return t.onAddSort(e)}}},[a("q-item-section",[a("q-item-label",[t._v("\n            "+t._s(t.$t(e))+"\n          ")])],1)],1)})),1)],1)],1)},Z=[],tt=(a("4e82"),a("a434"),a("c7a5")),et={name:"SelectItemDialog",components:{ItemTable:$,ItemRow:X},props:{isShow:{type:Boolean,default:!1},itemType:{type:String,default:""},itemSlot:{type:String,default:""}},mixins:[c],data(){return{showAddSortDialog:!1,sortOptionList:["minDmg","minDmgStrDex","maxDmg","maxDmgStr","avgDmg","avgDmgStr","avgDmgStrDex","dmg","as","str","dex","def","vit","ws","ar","sad","voh","dr","xpg","spe"],sortList:[{by:"avgDmgStrDex",dir:"desc"}],filter:["none","rare","artifact"],searchText:"",displayName:!1,displaySpecial:!1}},computed:{proxyIsShow:{get(){return this.isShow},set(t){this.$emit("update:isShow",t)}},displaySortOptionList(){const t=this.sortList.map(t=>t.by);return this.sortOptionList.filter(e=>!t.includes(e))},itemList(){const t=tt["a"][this.itemType];if(!t)return[];const e=this.searchText?new RegExp(this.searchText):/.*/,a=this.filter,s=t.filter(t=>a.includes(t.type)&&e.test(this.$t(t.i18n))),i=this.sortList,n=this.getItemValue;return s.sort((t,e)=>i.reduce((a,s)=>{if(0===a){const a=s.by;let i,l;switch(a){case"minDmgStrDex":i=n(t,"minAd")+n(t,"dex")+n(t,"str")/2,l=n(e,"minAd")+n(e,"dex")+n(e,"str")/2;break;case"maxDmgStr":i=n(t,"minAd")+n(t,"str"),l=n(e,"minAd")+n(e,"str");break;case"avgDmg":i=(n(t,"minAd")+n(t,"maxAd"))/2,l=(n(e,"minAd")+n(e,"maxAd"))/2;break;case"avgDmgStr":{const a=n(t,"str"),s=n(t,"minAd")+Math.floor(a/2),r=n(t,"maxAd")+a;i=(s+r)/2;const o=n(e,"str"),c=n(e,"minAd")+Math.floor(o/2),d=n(e,"maxAd")+o;l=(c+d)/2;break}case"avgDmgStrDex":{const a=n(t,"str"),s=n(t,"dex"),r=n(t,"minAd")+Math.floor(a/2)+s,o=n(t,"maxAd")+a;i=(r+Math.max(r,o))/2;const c=n(e,"str"),d=n(e,"dex"),m=n(e,"minAd")+Math.floor(c/2)+d,p=n(e,"maxAd")+c;l=(m+Math.max(m,p))/2;break}case"spe":{const a=n(t,"special"),s=n(e,"special");a&&s?a.type===s.type?(i=a.value,l=s.value):(i=a.type,l=s.type):(i=a?1:0,l=s?1:0);break}default:i=n(t,a),l=n(e,a);break}return"desc"===s.dir?l-i:i-l}return a},0)),s}},methods:{onSelectItem(t){this[this.itemSlot]=t,this.proxyIsShow=!1},onClearSort(t){this.sortList.splice(t,1)},onToggleSortDir(t){t.dir="asc"===t.dir?"desc":"asc"},onAddSort(t){this.sortList.push({by:t,dir:"desc"}),this.showAddSortDialog=!1}}},at=et,st=(a("dfc8"),a("8f8e")),it=a("1c1c"),nt=a("66e5"),lt=a("4074"),rt=a("0170"),ot=Object(b["a"])(at,Y,Z,!1,null,null,null),ct=ot.exports;q()(ot,"components",{QDialog:g["a"],QCard:x["a"],QBar:_["a"],QSpace:C["a"],QBtn:S["a"],QCardSection:w["a"],QIcon:Q["a"],QCheckbox:st["a"],QInput:k["a"],QList:it["a"],QItem:nt["a"],QItemSection:lt["a"],QItemLabel:rt["a"]}),q()(ot,"directives",{ClosePopup:A["a"]});var dt={name:"BuildPanel",components:{BoostRecords:F,ItemTable:$,ItemRow:X,SelectItemDialog:ct},mixins:[c],data(){return{item:tt["a"],boostStrategy:"vitality",displayName:!1,displaySpecial:!1,selectItemDialogProps:{isShow:!1,itemType:"",itemSlot:""}}},methods:{onSelectItem(t,e){const a=this.selectItemDialogProps;a.isShow=!0,a.itemType=t,a.itemSlot=e}}},mt=dt,pt=(a("c682"),a("ddd8")),ut=Object(b["a"])(mt,m,p,!1,null,null,null),yt=ut.exports;q()(ut,"components",{QSelect:pt["a"],QInput:k["a"],QCheckbox:st["a"]});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-xs-12 col-sm-shrink",staticStyle:{"min-width":"15rem"}},[a("character-number-area")],1),a("div",{staticClass:"col"},[a("enemy-area")],1)])},vt=[],bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",staticStyle:{"border-radius":"1rem"},attrs:{label:"普通攻擊","header-class":"bg-primary text-white","expand-icon-class":"text-white","default-opened":"",dense:""}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("每秒傷害：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerDamagePerSecond)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("期望傷害：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerExpectDamagePerHit)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最小傷害：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerMinAd)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最大傷害：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerMaxAd)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("預期吸血量：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerExpectFeedbackPerHit)+"\n            (\n            "+t._s(t.vitPercentage(t.playerExpectFeedbackPerHit))+"\n            %\n            )\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("攻擊速度：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerAs)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("每秒攻擊數：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerHitsPerSecond)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("雙擊機率：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerDoubleStrike)+"\n            %\n          ")])])])],1)],1),a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",staticStyle:{"border-radius":"1rem"},attrs:{label:"特殊攻擊","header-class":"bg-primary text-white","expand-icon-class":"text-white",dense:""}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("期望傷害：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerSaExpectDamage)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最小傷害：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerSaMinAd)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最大傷害：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerSaMaxAd)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("預期吸血量：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerSaExpectFeedbackPerHit)+"\n            (\n            "+t._s(t.vitPercentage(t.playerSaExpectFeedbackPerHit))+"\n            %\n            )\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("特攻延遲：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerSad)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("傷害反彈：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerDr)+"\n          ")])])])],1)],1),a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",staticStyle:{"border-radius":"1rem"},attrs:{label:"其他數值","header-class":"bg-primary text-white","expand-icon-class":"text-white",dense:""}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("力量：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerStr)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("敏捷：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerDex)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("體力：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerVit)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("防禦：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerDef)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("攻擊距離：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerAr)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("移動速度：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerWs)+"\n          ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("經驗加成：")]),a("span",{staticClass:"col number"},[t._v("\n            "+t._s(t.playerXpg)+"\n            %\n          ")])])])],1)],1),a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",staticStyle:{"border-radius":"1rem"},attrs:{label:"特殊能力","header-class":"bg-primary text-white","expand-icon-class":"text-white",dense:""}},[a("div",{staticClass:"card"},[a("q-card-section",[t.playerSpecialAbilityList.length>0?t._l(t.playerSpecialAbilityList,(function(t,e){return a("special-ability-description",{key:e,attrs:{"special-data":t}})})):[t._v("\n          無\n        ")]],2)],1)])],1)},ft=[],gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.canBeToggle?a("q-checkbox",{on:{input:t.onToggle},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}):t._e(),t._v("\n  "+t._s(t.getSpecialDescription(t.specialData))+"\n")],1)},xt=[];const _t=["addVoHOnTakenDamage","addStrengthOnTakenDamage","addVitalityOnTakenDamage","addAttackSpeedOnTakenDamage","addDamageReflectionOnTakenDamage","killsAddAttackRange","killsAddAttackSpeed","killsAddWalkSpeed","hitsAddAttackSpeed","hitsAddWalkSpeed","hitsAddDefense","hitsAddStrength","throwAttack","specialThrowAttack"];var Ct={name:"SpecialAbilityDescription",mixins:[c],props:{specialData:{type:Object,required:!0}},data(){return{checked:!1}},computed:{canBeToggle(){return _t.includes(this.specialData.type)},adjustKey(){if(this.canBeToggle)switch(this.specialData.type){case"addVoHOnTakenDamage":return"voh";case"hitsAddStrength":case"addStrengthOnTakenDamage":return"str";case"addVitalityOnTakenDamage":return"vit";case"hitsAddAttackSpeed":case"killsAddAttackSpeed":case"addAttackSpeedOnTakenDamage":return"as";case"addDamageReflectionOnTakenDamage":return"dr";case"killsAddAttackRange":return"ar";case"hitsAddWalkSpeed":case"killsAddWalkSpeed":return"ws";case"hitsAddDefense":return"def";case"throwAttack":return"throwAttack"}return""},adjustValue(){if(this.canBeToggle){const t=this.specialData.value,e=this.adjustKey;switch(e){case"throwAttack":return t;case"as":return-1*this.getCharacterOriginValue(e)*(t-100)/100;default:return Math.floor(this.getCharacterOriginValue(e)*(t-100)/100)}}return 0}},methods:l()(l()({},Object(r["c"])("build",["adjustTemporaryBuff"])),{},{onToggle(t){t?this.adjustTemporaryBuff({key:this.adjustKey,value:this.adjustValue}):this.adjustTemporaryBuff({key:this.adjustKey,value:-1*this.adjustValue})}})},St=Ct,wt=(a("8298"),Object(b["a"])(St,gt,xt,!1,null,"1ae924d7",null)),kt=wt.exports;q()(wt,"components",{QCheckbox:st["a"]});var Dt={name:"CharacterNumberArea",mixins:[c],components:{SpecialAbilityDescription:kt},computed:{vitPercentage(){return(t,e)=>Math.round(t/this.getCharacterValue("vit")*100)/100}}},At=Dt,Pt=(a("e3dc"),a("3b73")),qt=Object(b["a"])(At,bt,ft,!1,null,null,null),Et=qt.exports;q()(qt,"components",{QExpansionItem:Pt["a"],QCard:x["a"],QCardSection:w["a"]});var Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",staticStyle:{"border-radius":"1rem"},attrs:{label:"模擬戰鬥","header-class":"bg-primary text-white","expand-icon-class":"text-white","default-opened":"",dense:""}},[a("div",{staticClass:"q-pa-sm"},[a("div",{staticClass:"row full-width wrap justify-around items-start"},t._l(t.simulatorEnemyList,(function(e,s){return a("simulator",{key:s,attrs:{"enemy-data":e},on:{delete:function(e){return t.simulatorEnemyList.splice(s,1)}}})})),1),a("div",{staticClass:"flex-break"}),a("div",{staticClass:"text-center q-pa-sm"},[a("q-btn",{staticClass:"q-mx-sm",attrs:{icon:"queue_play_next",color:"primary",label:"新增敵方模擬"},on:{click:function(e){t.showSelectEnemyDialog=!0}}}),t.simulatorEnemyList.length>0?a("q-btn",{staticClass:"q-mx-sm",attrs:{icon:"delete_forever",color:"negative",label:"移除所有模擬"},on:{click:function(e){return t.simulatorEnemyList.splice(0)}}}):t._e()],1)]),a("select-enemy-dialog",{attrs:{"is-show":t.showSelectEnemyDialog,"display-enemy-list":t.simulatorEnemyList},on:{"update:isShow":function(e){t.showSelectEnemyDialog=e},"update:is-show":function(e){t.showSelectEnemyDialog=e},addEnemy:t.onAddEnemy}})],1)},Vt=[],Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticStyle:{width:"15rem","margin-top":"1rem"},attrs:{flat:"",bordered:""}},[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",[a("img",{attrs:{src:t.enemyData.img}})])],1),a("q-item-section",[a("q-item-label",[t._v("\n        "+t._s(t.enemyData.name)+"\n      ")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n        戰鬥模擬結果\n      ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{icon:"delete_forever",title:"刪除此模擬",color:"negative",flat:"",dense:""},on:{click:function(e){return e.preventDefault(),t.$emit("delete")}}})],1)],1),a("q-separator",{staticStyle:{"margin-bottom":"0"}}),a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",attrs:{label:"模擬結果","header-class":"bg-primary text-white","expand-icon-class":"text-white","default-opened":"",dense:""}},[a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("戰鬥時間：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorResult.secondPass)+"秒\n      ")])]),t.simulatorResult.enemyVit?a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("敵方殘餘：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorResult.enemyVit)+"\n        (\n        "+t._s(t.getEnemyVitPercentage(t.simulatorResult.enemyVit))+"\n        %)\n      ")])]):t._e(),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("承受損傷：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorResult.playerLossVit)+"\n        (\n        "+t._s(t.getPlayerVitPercentage(t.simulatorResult.playerLossVit))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("攻擊次數：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorResult.playerHits)+"\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("特攻次數：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorResult.playerSaHits)+"\n      ")])])]),a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",attrs:{label:"模擬歷程","header-class":"bg-primary text-white","expand-icon-class":"text-white",dense:""}},[t._l(t.simulatorResult.recordList,(function(e,s){return[a("div",{key:"time_"+s,staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("時間：")]),a("span",{staticClass:"col number"},[t._v("\n          "+t._s(e.time)+"秒\n        ")])]),a("div",{key:"event_"+s,staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("事件：")]),a("span",{staticClass:"col number"},[t._v("\n          "+t._s(t.parseRecordAction(e.event))+"\n        ")])]),a("div",{key:"enemy_"+s,staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("敵方殘血：")]),a("span",{staticClass:"col number"},[t._v("\n          "+t._s(e.enemyVit)+"\n          (\n          "+t._s(t.getEnemyVitPercentage(e.enemyVit))+"\n          %)\n        ")])]),a("div",{key:"player_"+s,staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("我方損傷：")]),a("span",{staticClass:"col number"},[t._v("\n          "+t._s(e.playerLossVit)+"\n          (\n          "+t._s(t.getPlayerVitPercentage(e.playerLossVit))+"\n          %)\n        ")])]),a("q-separator",{key:"separator_"+s})]}))],2),a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",attrs:{label:"普攻數值","header-class":"bg-primary text-white","expand-icon-class":"text-white",dense:""}},[a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("每秒傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorPlayerExpectDamagePerSecond)+"\n        (\n        "+t._s(t.getEnemyVitPercentage(t.simulatorPlayerExpectDamagePerSecond))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("期望傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorPlayerExpectDamagePerHit)+"\n        (\n        "+t._s(t.getEnemyVitPercentage(t.simulatorPlayerExpectDamagePerHit))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最小傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorPlayerMinAd)+"\n        (\n        "+t._s(t.getEnemyVitPercentage(t.simulatorPlayerMinAd))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最大傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorPlayerMaxAd)+"\n        (\n        "+t._s(t.getEnemyVitPercentage(t.simulatorPlayerMaxAd))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("反饋生命：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorPlayerExpectFeedbackPerHit)+"\n        (\n        "+t._s(t.getPlayerVitPercentage(t.simulatorPlayerExpectFeedbackPerHit))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("每秒攻擊數：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.playerHitsPerSecond)+"\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("雙擊機率：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.playerDoubleStrike)+"%\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("投擲機率：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.temporaryBuff.throwAttack)+"%\n      ")])])]),a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",attrs:{label:"特攻數值","header-class":"bg-primary text-white","expand-icon-class":"text-white",dense:""}},[a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("期望傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorPlayerSaExpectDamagePerHit)+"\n        (\n        "+t._s(t.getEnemyVitPercentage(t.simulatorPlayerSaExpectDamagePerHit))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最小傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorPlayerSaMinAd)+"\n        (\n        "+t._s(t.getEnemyVitPercentage(t.simulatorPlayerSaMinAd))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最大傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorPlayerSaMaxAd)+"\n        (\n        "+t._s(t.getEnemyVitPercentage(t.simulatorPlayerSaMaxAd))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("反饋生命：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorPlayerSaExpectFeedbackPerHit)+"\n        (\n        "+t._s(t.getPlayerVitPercentage(t.simulatorPlayerSaExpectFeedbackPerHit))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("投擲機率：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.temporaryBuff.specialThrowAttack)+"%\n      ")])])]),a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",attrs:{label:"敵方攻擊","header-class":"bg-primary text-white","expand-icon-class":"text-white",dense:""}},[a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("每秒傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorEnemyExpectDamagePerSecond)+"\n        (\n        "+t._s(t.getPlayerVitPercentage(t.simulatorEnemyExpectDamagePerSecond))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("期望傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorEnemyExpectDamagePerHit)+"\n        (\n        "+t._s(t.getPlayerVitPercentage(t.simulatorEnemyExpectDamagePerHit))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最小傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorEnemyMinAd)+"\n        (\n        "+t._s(t.getPlayerVitPercentage(t.simulatorEnemyMinAd))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最大傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorEnemyMaxAd)+"\n        (\n        "+t._s(t.getPlayerVitPercentage(t.simulatorEnemyMaxAd))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("反饋生命：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.simulatorEnemyExpectFeedbackPerHit)+"\n        (\n        "+t._s(t.getEnemyVitPercentage(t.simulatorEnemyExpectFeedbackPerHit))+"\n        %)\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("每秒攻擊數：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.hitsPerSecond)+"\n      ")])])]),a("q-expansion-item",{staticClass:"shadow-1 overflow-hidden",attrs:{"header-class":"bg-primary text-white","expand-icon-class":"text-white",dense:""},scopedSlots:t._u([{key:"header",fn:function(){return[a("q-item-section",[t._v("\n        敵方數值\n      ")])]},proxy:!0}])},[a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最小傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.minAd)+"\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("最大傷害：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.maxAd)+"\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("每秒攻擊數：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.hitsPerSecond)+"\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("敏捷：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.dex)+"\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("吸血：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.voh)+"%\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("反傷：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.dr)+"%\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("防禦：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.def)+"\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("體力：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.vit)+"\n      ")])]),a("div",{staticClass:"row"},[a("span",{staticClass:"col attribute"},[t._v("每秒回血：")]),a("span",{staticClass:"col number"},[t._v("\n        "+t._s(t.enemyData.healingPerSecond)+"\n      ")])])])],1)},Lt=[],It={name:"Simulator",mixins:[c],props:{enemyData:{type:Object,required:!0}},computed:{getEnemyVitPercentage(){return t=>Math.round(t/this.enemyData.vit*1e3)/10},getPlayerVitPercentage(){return t=>Math.round(t/this.playerVit*1e3)/10},effectivePlayerDef(){return Math.max(0,this.playerDef-this.enemyData.dex)},effectiveEnemyDef(){return Math.max(0,this.enemyData.def-this.playerDex)},simulatorPlayerMinAd(){return Math.max(0,this.playerMinAd-this.effectiveEnemyDef)},simulatorPlayerMaxAd(){return Math.max(0,this.playerMaxAd-this.effectiveEnemyDef)},simulatorPlayerExpectDamagePerHit(){return this.getPlayerExpectDamagePerHit(this.enemyData.def)},simulatorPlayerExpectDamagePerSecond(){return Math.round(1e3*this.getPlayerDamagePerSecond(this.enemyData.def))/1e3},simulatorPlayerExpectFeedbackPerHit(){const t=this.enemyData;return this.getPlayerExpectFeedbackPerHit({enemyDex:t.dex,enemyDef:t.def,enemyDr:t.dr})},simulatorPlayerSaMinAd(){return Math.max(0,this.playerSaMinAd-this.effectiveEnemyDef)},simulatorPlayerSaMaxAd(){return Math.max(0,this.playerSaMaxAd-this.effectiveEnemyDef)},simulatorPlayerSaExpectDamagePerHit(){return this.getPlayerSaExpectDamage(this.enemyData.def)},simulatorPlayerSaExpectFeedbackPerHit(){const t=this.enemyData;return this.getPlayerSaExpectFeedbackPerHit({enemyDex:t.dex,enemyDef:t.def,enemyDr:t.dr})},simulatorEnemyMinAd(){return Math.max(0,this.enemyData.minAd-this.effectivePlayerDef)},simulatorEnemyMaxAd(){return Math.max(0,this.enemyData.maxAd-this.effectivePlayerDef)},simulatorEnemyExpectDamagePerHit(){const t=this.enemyData;return this.getExpectDamagePerHit({minAd:t.minAd,maxAd:t.maxAd,attackerDex:t.dex,defenderDef:this.playerDef,doubleStrike:0,throwAttack:0})},simulatorEnemyExpectDamagePerSecond(){return Math.round(this.simulatorEnemyExpectDamagePerHit*this.enemyData.hitsPerSecond*1e3)/1e3},simulatorEnemyExpectFeedbackPerHit(){const t=this.enemyData;return this.getExpectFeedbackPerHit({minAd:t.minAd,maxAd:t.maxAd,attackerDex:t.dex,attackerDef:t.def,defenderDex:this.playerDex,defenderDef:this.playerDef,doubleStrike:0,throwAttack:0,attackerVoh:t.voh,defenderDr:this.playerDr})},simulatorResult(){const t=this.enemyData,e=1/this.playerHitsPerSecond,a=this.playerSad,s=1/t.hitsPerSecond;let i=e,n=Math.max(a,e),l=s,r=t.vit,o=0,c=0,d=0,m=0,p=0;const u=[];while(r>0){m=i<=l?i:l;while(t.healingPerSecond>0&&m-p>1)r+=t.healingPerSecond,p+=1,u.push({time:p,event:"enemyHealing",enemyVit:r,playerLossVit:o});if(i<=m&&(n<=m?(d+=1,r-=this.simulatorPlayerSaExpectDamagePerHit,o-=this.simulatorPlayerSaExpectFeedbackPerHit,n+=Math.max(a,e),u.push({time:Math.round(100*m)/100,event:"specialAttack",enemyVit:r,playerLossVit:o})):(c+=1,r-=this.simulatorPlayerExpectDamagePerHit,o-=this.simulatorPlayerExpectFeedbackPerHit,u.push({time:Math.round(100*m)/100,event:"normalAttack",enemyVit:r,playerLossVit:o})),i+=e),l<=m&&(o+=this.simulatorEnemyExpectDamagePerHit,r+=this.simulatorEnemyExpectFeedbackPerHit,l+=s,m+=s,u.push({time:Math.round(100*m)/100,event:"enemyAttack",enemyVit:r,playerLossVit:o})),m>300)return{playerHits:c,playerSaHits:d,secondPass:Math.round(1e3*m)/1e3,playerLossVit:Math.round(Math.max(0,o)),enemyVit:Math.round(r),recordList:u}}return{playerHits:c,playerSaHits:d,secondPass:Math.round(1e3*m)/1e3,playerLossVit:Math.round(Math.max(0,o)),recordList:u}},parseRecordAction(){return t=>{switch(t){case"enemyHealing":return"敵方再生";case"normalAttack":return"我方攻擊";case"specialAttack":return"我方特攻";case"enemyAttack":return"敵方攻擊"}}}}},Qt=It,Mt=(a("7834"),a("cb32")),Ht=a("eb85"),$t=Object(b["a"])(Qt,Rt,Lt,!1,null,null,null),Tt=$t.exports;q()($t,"components",{QCard:x["a"],QItem:nt["a"],QItemSection:lt["a"],QAvatar:Mt["a"],QItemLabel:rt["a"],QBtn:S["a"],QSeparator:Ht["a"],QExpansionItem:Pt["a"]});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:"","full-height":""},model:{value:t.proxyIsShow,callback:function(e){t.proxyIsShow=e},expression:"proxyIsShow"}},[a("q-card",[a("q-bar",{staticStyle:{position:"sticky",top:"0"}},[a("div",[t._v("選擇模擬敵方")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",dense:"",flat:""}})],1),a("q-card-section",[a("q-select",{attrs:{label:"請選擇區域",options:t.displayLocationOptionList,"use-input":"",clearable:"","options-cover":"","emit-value":"","map-options":""},on:{filter:t.onSearchLocation},model:{value:t.filterLocation,callback:function(e){t.filterLocation=e},expression:"filterLocation"}}),a("q-separator"),a("q-btn",{staticClass:"full-width",attrs:{color:"positive",label:"加入以下全部"},on:{click:t.onAddAll}}),a("q-separator"),t._l(t.displayEnemyList,(function(e,s){return[a("div",{key:s,staticClass:"row q-col-gutter-sm"},[a("div",[a("img",{attrs:{src:e.img}})]),a("div",{staticClass:"col"},[a("q-input",{attrs:{label:"名稱",type:"text",dense:""},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"enemyData.name"}}),a("q-input",{attrs:{label:"最小傷害",type:"number",min:"0",step:"1",dense:""},model:{value:e.minAd,callback:function(a){t.$set(e,"minAd",t._n(a))},expression:"enemyData.minAd"}}),a("q-input",{attrs:{label:"最大傷害",type:"number",min:"0",step:"1",dense:""},model:{value:e.maxAd,callback:function(a){t.$set(e,"maxAd",t._n(a))},expression:"enemyData.maxAd"}}),a("q-input",{attrs:{label:"每秒攻擊數",type:"number",min:"0",step:"0.1",dense:""},model:{value:e.hitsPerSecond,callback:function(a){t.$set(e,"hitsPerSecond",t._n(a))},expression:"enemyData.hitsPerSecond"}}),a("q-input",{attrs:{label:"敏捷",type:"number",min:"0",step:"1",dense:""},model:{value:e.dex,callback:function(a){t.$set(e,"dex",t._n(a))},expression:"enemyData.dex"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{label:"吸血",type:"number",min:"0",step:"1",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[t._v("\n                ％\n              ")]},proxy:!0}],null,!0),model:{value:e.voh,callback:function(a){t.$set(e,"voh",t._n(a))},expression:"enemyData.voh"}}),a("q-input",{attrs:{label:"反傷",type:"number",min:"0",step:"1",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[t._v("\n                ％\n              ")]},proxy:!0}],null,!0),model:{value:e.dr,callback:function(a){t.$set(e,"dr",t._n(a))},expression:"enemyData.dr"}}),a("q-input",{attrs:{label:"防禦",type:"number",min:"0",step:"1",dense:""},model:{value:e.def,callback:function(a){t.$set(e,"def",t._n(a))},expression:"enemyData.def"}}),a("q-input",{attrs:{label:"體力",type:"number",min:"1",step:"1","hide-hint":"",dense:""},model:{value:e.vit,callback:function(a){t.$set(e,"vit",t._n(a))},expression:"enemyData.vit"}}),a("q-input",{attrs:{label:"每秒回血",type:"number",min:"0",step:"1",dense:""},model:{value:e.healingPerSecond,callback:function(a){t.$set(e,"healingPerSecond",t._n(a))},expression:"enemyData.healingPerSecond"}})],1),a("div",[a("q-btn",{attrs:{icon:"add",color:"positive",size:"sm",title:"加入模擬",dense:""},on:{click:function(a){return t.onAddEnemy(e)}}})],1)]),a("q-separator",{key:"separator_"+s})]}))],2)],1)],1)},Bt=[],Wt=(a("c975"),a("fb6a"),["1F","2F","3F","4F","6F","7F","8F","9F","11F","12F","13F","14F","14F-eretica","16F","17F","18F","19F","21F","22F","23F","24F","26F","27F","27F-scarab","28F","29F","31F","32F","33F","34F","36F","36F-tyrant","37F","38F","38F-arena","38F-fat","39F","41F","42F","42F-mirror","43F","44F","46F","47F","47F-syen","48F-event-train","49F","49F-trinity","UW1","UW2","UW3","UW4","UW5","UW6","UW6-poison","UW7","UW8","ND1","ND2","ND3","GL2","GL2-cave","GL3","GL4","TB-star","TB-grass","TB-pine","TB-maze","TB-iron","TB-town","TB-night","TB-cave","TB-trinity"]),Nt=[{i18n:"goblin",location:["1F","2F","3F","42F_mirror","UW1"],img:"enemy/goblin.gif",minAd:1,maxAd:4,as:29,def:0,dex:4,vit:15,voh:0,dr:0,xp:2},{i18n:"goblinElite",location:["enter"],img:"enemy/goblin.gif",minAd:0,maxAd:0,as:39,def:0,dex:4,vit:80,voh:0,dr:0,xp:2},{i18n:"gnoll",location:["1F","2F","4F","8F","42F_mirror","UW2"],img:"enemy/gnoll.gif",minAd:1,maxAd:5,as:27,def:6,dex:8,vit:12,voh:0,dr:0,xp:2},{i18n:"greenSlime",location:["1F","2F","4F","6F","8F","9F","UW1","UW3"],img:"enemy/greenSlime.gif",minAd:1,maxAd:1,as:7,def:10,dex:999,vit:10,voh:0,dr:0,xp:3},{i18n:"giantScarab",location:["2F","6F","8F","9F","13F","14F","16F","UW2","UW4"],img:"enemy/giantScarab.gif",minAd:2,maxAd:4,as:34,def:12,dex:6,vit:10,voh:0,dr:10,xp:4},{i18n:"goblinMage",location:["3F","4F","6F","42F_mirror","UW1"],img:"enemy/goblinMage.gif",minAd:1,maxAd:2,as:30,def:4,dex:999,vit:12,voh:0,dr:0,xp:4},{i18n:"roper",location:["4F","6F","9F","UW2","UW3"],img:"enemy/roper.gif",minAd:1,maxAd:2,as:2,def:9,dex:6,vit:20,voh:0,dr:0,xp:4},{i18n:"skeleton",location:["7F","12F","13F","42F_mirror","UW4","UW5"],img:"enemy/skeleton.gif",minAd:2,maxAd:7,as:22,def:9,dex:6,vit:20,voh:0,dr:0,xp:4},{i18n:"kobold",location:["8F","9F","14F","16F","42F_mirror","UW2"],img:"enemy/kobold.gif",minAd:1,maxAd:8,as:18,def:10,dex:6,vit:18,voh:0,dr:0,xp:5},{i18n:"blueSlime",location:["9F","12F","14F","UW3"],img:"enemy/blueSlime.gif",minAd:1,maxAd:2,as:4,def:15,dex:999,vit:20,voh:0,dr:0,xp:5},{i18n:"wraith",location:["12F","13F","UW5"],img:"enemy/wraith.gif",minAd:3,maxAd:5,as:29,def:0,dex:6,vit:15,voh:5,dr:0,xp:8},{i18n:"mage",location:["13F","14F","24F","26F"],img:"enemy/mage.gif",minAd:2,maxAd:5,as:40,def:8,dex:999,vit:20,voh:0,dr:0,xp:8}];const jt=o["a"].getters.getHitsPerSecondByAs();var Ut={name:"SelectEnemyDialog",props:{isShow:{type:Boolean,default:!1}},data(){const t=Wt.map(t=>({label:this.$t("location."+t),value:t}));return{filterLocation:"",locationOptionList:t,displayLocationOptionList:t,enemyList:Nt.slice().map(t=>({name:this.$t("enemy."+t.i18n),location:t.location,img:t.img||"none.png",minAd:t.minAd||0,maxAd:t.maxAd||0,hitsPerSecond:t.as?jt(t.as):.5,dex:t.dex||0,def:t.def||0,vit:t.vit||0,voh:t.voh||0,dr:t.dr||0,healingPerSecond:t.healingPerSecond||0}))}},computed:{proxyIsShow:{get(){return this.isShow},set(t){this.$emit("update:isShow",t)}},displayEnemyList(){const t=this.filterLocation;return this.enemyList.filter(e=>e.location.includes(t))}},methods:{onSearchLocation(t,e){e(t?()=>{this.displayLocationOptionList=this.locationOptionList.filter(e=>-1!==e.label.indexOf(t)||-1!==e.value.indexOf(t))}:()=>{this.displayLocationOptionList=this.locationOptionList})},onAddAll(){this.displayEnemyList.forEach(t=>{this.$emit("addEnemy",t)})},onAddEnemy(t){this.$emit("addEnemy",t)}}},zt=Ut,Gt=(a("e398"),Object(b["a"])(zt,Ot,Bt,!1,null,null,null)),Kt=Gt.exports;q()(Gt,"components",{QDialog:g["a"],QCard:x["a"],QBar:_["a"],QSpace:C["a"],QBtn:S["a"],QCardSection:w["a"],QSelect:pt["a"],QSeparator:Ht["a"],QInput:k["a"]}),q()(Gt,"directives",{ClosePopup:A["a"]});const Jt=[];var Xt={name:"EnemyArea",components:{Simulator:Tt,SelectEnemyDialog:Kt},data(){return{showSelectEnemyDialog:!1,simulatorEnemyList:Jt}},methods:{onAddEnemy(t){Jt.push(t)}}},Yt=Xt,Zt=(a("4a54"),Object(b["a"])(Yt,Ft,Vt,!1,null,null,null)),te=Zt.exports;q()(Zt,"components",{QExpansionItem:Pt["a"],QBtn:S["a"]});var ee={name:"SimulatorPanel",components:{CharacterNumberArea:Et,EnemyArea:te},mixins:[c]},ae=ee,se=(a("bff0"),Object(b["a"])(ae,ht,vt,!1,null,null,null)),ie=se.exports,ne={name:"PageIndex",components:{BuildPanel:yt,SimulatorPanel:ie},mixins:[c],data(){return{tab:"build"}},mounted(){const t=this.$route.params.pathMatch;try{const e=JSON.parse(decodeURIComponent(t.replace("/","")));e&&e.length&&(this.characterClass=e[0],this.exp=e[1],this.kills=e[2],this.boostAllRecords=e[3],this.boostVitalityRecords=e[4],this.boostStrengthRecords=e[5],this.boostDexteriryRecords=e[6],this.boostDefenseRecords=e[7],this.weapon1=e[8],this.weapon2=e[9],this.ring1=e[10],this.ring2=e[11],this.helm=e[12],this.armor=e[13],this.gloves=e[14],this.boots=e[15],this.freshy=e[16],this.puppet1=e[17],this.puppet2=e[18],this.puppet3=e[19])}catch(e){}}},le=ne,re=a("4d5a"),oe=a("09e3"),ce=a("9989"),de=a("429b"),me=a("7460"),pe=a("f20b"),ue=a("adad"),ye=a("823b"),he=Object(b["a"])(le,s,i,!1,null,null,null);e["default"]=he.exports;q()(he,"components",{QLayout:re["a"],QPageContainer:oe["a"],QPage:ce["a"],QCard:x["a"],QTabs:de["a"],QTab:me["a"],QBtnDropdown:pe["a"],QIcon:Q["a"],QList:it["a"],QItem:nt["a"],QItemSection:lt["a"],QSeparator:Ht["a"],QTabPanels:ue["a"],QTabPanel:ye["a"]})},"8e4a":function(t,e,a){},"988a":function(t,e,a){},"9ab6":function(t,e,a){},bff0:function(t,e,a){"use strict";var s=a("9ab6"),i=a.n(s);i.a},c682:function(t,e,a){"use strict";var s=a("fdbd"),i=a.n(s);i.a},dfc8:function(t,e,a){"use strict";var s=a("5b49"),i=a.n(s);i.a},e398:function(t,e,a){"use strict";var s=a("8e4a"),i=a.n(s);i.a},e3dc:function(t,e,a){"use strict";var s=a("83d2"),i=a.n(s);i.a},fa3b:function(t,e,a){},fdbd:function(t,e,a){}}]);